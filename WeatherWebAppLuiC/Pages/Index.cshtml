@page
@model IndexModel
@{
    ViewData["Title"] = "Search";
}

<div class="text-center">
    <h1 class="display-4">Welcome to the Weather Web App</h1>
</div>

<div class="hero-wrapper" style="position:relative; width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw); overflow:hidden;">
    <img src="/Images/Main/20250401_190146.jpg" alt="London Skyline Sunny Weather" style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center; z-index:0;" />
    <div class="hero-content">
        <form method="post" style="width:90%; max-width:900px; background-image: linear-gradient(126.6deg, rgba(44,115,210,1) 3.4%, rgba(251,234,255,1) 127.9%); padding:16px; border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,0.18); transform: translateY(-2vh);">
            <input asp-for="City" id="CityInput" type="text" class="form-control d-inline-block w-100" placeholder="Input city here!" style="max-width:850px;" />
            <input asp-for="Lat" type="hidden" id="Lat" />
            <input asp-for="Lon" type="hidden" id="Lon" />
            <div id="city-suggestions" class="autocomplete-items" style="position:relative; z-index:1000;"></div>
            <div style="text-align:center; margin-top:8px;"><button type="submit" class="center-button">Search</button></div>
        </form>
    </div>
    <p style="position: absolute; bottom: 12px; left: 16px; margin:0; color: #fff; text-shadow: 0 1px 4px rgba(0,0,0,0.6); z-index:2;">Image of Greenwich Park (Lui Contreras, 2025)</p>
</div>

@if (Model.Weather != null)
{
    <div class="mt-3 text-center">
        <strong>@Model.Weather.City</strong>: @Model.Weather.WeatherDescription, @Model.Weather.TempsDisplay
    </div>
}

<!-- Ensure site.js is loaded for autocomplete functionality -->
<script src="~/js/site.js"></script>