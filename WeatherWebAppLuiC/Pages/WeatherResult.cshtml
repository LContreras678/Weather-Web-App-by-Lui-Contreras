@page "{city}"
@model WeatherWebAppLuiC.Pages.WeatherResultModel

<h2>Weather Overview</h2>

@if (Model.Weather != null)
{
    <img src="~/Images/Main/@(Model.Weather.HourlyForecast != null && Model.Weather.HourlyForecast.Count > 0 ? Model.Weather.HourlyForecast[0].IconName : "03d.png")" alt="Current Weather Icon" />
    <p>@Model.Weather.City</p>
    <p>@Model.Weather.WeatherDescription</p>
    <p>@($"{Model.Weather.Temps}°C")</p>
}
else
{
    <div>
        Weather information not found. Please return to home page: 
        <a href="/">Return Home</a>
    </div>
}

@* Horizontally scrollable next 6 hours forecast *@
@if (Model.Weather?.HourlyForecast != null && Model.Weather.HourlyForecast.Count > 0)
{
    <div style="overflow-x: auto; white-space: nowrap; margin: 2em 0;">
        <div style="display: flex; gap: 1em; min-width: 600px;">
            @foreach (var hour in Model.Weather.HourlyForecast.Take(6))
            {
                <div style="flex: 0 0 auto; background: #f8f9fa; border-radius: 8px; box-shadow: 0 2px 6px #0001; padding: 1em; text-align: center; min-width: 100px;">
                    <div>@hour.Time.ToString("HH:00")</div>
                    <img src="~/Images/Main/@hour.IconName" alt="Weather Icon/Description" style="width: 48px; height: 48px; margin: 0.5em 0;" />
                    <div>@hour.Temperature&nbsp;°C</div>
                    <div style="font-size: 0.9em; color: #555;">@hour.WeatherDescription</div>
                </div>
            }
        </div>
    </div>
}

<div style="margin-top: 2em;">
    <a href="/">Return Home</a>
</div>